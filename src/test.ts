import { AppknitSDK, SdkExecutionError, SdkGenericErrorCodes } from '@appknit-project/appknit-platform-sdk-v2';
import extension from './index'
const input = {
    "fusionRequest": {
        "taxableHeader": {
            "ns:ApplicationId": "222",
            "ns:EntityCode": "TRANSACTIONS",
            "ns:EventClassCode": "INVOICE",
            "ns:TrxId": "952126",
            "ns:ApplicationShortname": "AR",
            "ns:BatchName": "",
            "ns:BatchSourceName": "Distributed Order Orchestration",
            "ns:CtrlHdrTxApplFlag": "N",
            "ns:CtrlTotalHdrTxAmt": "",
            "ns:CurrencyConversionDate": "",
            "ns:CurrencyConversionRate": "",
            "ns:CurrencyConversionType": "",
            "ns:DefaultTaxationCountry": "US",
            "ns:DocumentSubType": "",
            "ns:DocumentType": "",
            "ns:DocEventStatus": "VALIDATED_FOR_TAX",
            "ns:DocSeqName": "",
            "ns:DocSeqValue": "",
            "ns:EndPointUrl": "https://ecae-test.fa.us2.oraclecloud.com",
            "ns:EstablishmentId": "300000002080006",
            "ns:EstablishmentNumber": "7",
            "ns:EventClassMappingId": "4",
            "ns:EventTypeCode": "INV_COMPLETE",
            "ns:FirstPtyOrgId": "300000011119157",
            "ns:FirstPtyRegId": "300000004353017",
            "ns:FirstPtyRegNumber": "41-1234501",
            "ns:GlDate": "",
            "ns:HistoricalFlag": "N",
            "ns:HqEstbPartyTaxProfId": "300000002080046",
            "ns:InternalOrganizationId": "300000011107181",
            "ns:InternalOrgLocationId": "300000027712047",
            "ns:LedgerId": "300000002064005",
            "ns:LegalEntityId": "300000002080003",
            "ns:LegalEntityNumber": "SERPSOLS",
            "ns:LogLevel": "",
            "ns:PaymentMethod": "",
            "ns:ReceivablesTrxTypeSeqId": "34",
            "ns:ShipFromSiteRegNumber": "",
            "ns:TaxInvoiceDate": "",
            "ns:TaxInvoiceNumber": "",
            "ns:ThirdPtyRegId": "",
            "ns:ThirdPtyRegNumber": "",
            "ns:TrxCurrencyCode": "USD",
            "ns:TrxDate": "20220923",
            "ns:TrxDescription": "",
            "ns:TrxDocRevision": "",
            "ns:TrxDueDate": "",
            "ns:TrxHeaderAmt": "",
            "ns:TrxLevelType": "LINE",
            "ns:TrxNumber": "333007",
            "ns:TrxSource": "DOO",
            "taxableLines": [
                {
                    "ns:ApplicationId": "222",
                    "ns:EntityCode": "TRANSACTIONS",
                    "ns:EventClassCode": "INVOICE",
                    "ns:TrxId": "952126",
                    "ns:TrxLineId": "8706665",
                    "ns:TrxLevelType": "LINE",
                    "ns:AccountCcid": "300000002075018",
                    "ns:AccountString": "SERPSOLS-00-410002-000-SERPSOLS-0-0-0-0-0",
                    "ns:AccrueOnReceiptFlag": "",
                    "ns:AdjustedDocApplicationId": "",
                    "ns:AdjustedDocDate": "",
                    "ns:AdjustedDocEntityCode": "",
                    "ns:AdjustedDocEventClassCode": "",
                    "ns:AdjustedDocLineId": "",
                    "ns:AdjustedDocNumber": "",
                    "ns:AdjustedDocTrxId": "",
                    "ns:AdjustedDocTrxLevelType": "",
                    "ns:ApplicationDocStatus": "",
                    "ns:AppliedFromApplicationId": "",
                    "ns:AppliedFromEntityCode": "",
                    "ns:AppliedFromEventClassCode": "",
                    "ns:AppliedFromLineId": "",
                    "ns:AppliedFromTrxId": "",
                    "ns:AppliedFromTrxLevelType": "",
                    "ns:AppliedFromTrxNumber": "",
                    "ns:AppliedToApplicationId": "401",
                    "ns:AppliedToEntityCode": "SHIPMENTS",
                    "ns:AppliedToEventClassCode": "SALES_ORDER_SHIPMENT",
                    "ns:AppliedToTrxId": "456015",
                    "ns:AppliedToTrxLevelType": "LINE",
                    "ns:AppliedToTrxLineId": "300000162530336",
                    "ns:AppliedToTrxNumber": "",
                    "ns:AssessableValue": "100",
                    "ns:AssetFlag": "",
                    "ns:BillFromGeographyType1": "ADDRESS1",
                    "ns:BillFromGeographyType10": "PROVINCE",
                    "ns:BillFromGeographyType2": "ADDRESS2",
                    "ns:BillFromGeographyType3": "ADDRESS3",
                    "ns:BillFromGeographyType4": "ADDRESS4",
                    "ns:BillFromGeographyType5": "COUNTRY",
                    "ns:BillFromGeographyType6": "STATE",
                    "ns:BillFromGeographyType7": "COUNTY",
                    "ns:BillFromGeographyType8": "CITY",
                    "ns:BillFromGeographyType9": "POSTALCODE",
                    "ns:BillFromGeographyValue1": "5570 Baldwin Way",
                    "ns:BillFromGeographyValue10": "",
                    "ns:BillFromGeographyValue2": "",
                    "ns:BillFromGeographyValue3": "",
                    "ns:BillFromGeographyValue4": "",
                    "ns:BillFromGeographyValue5": "US",
                    "ns:BillFromGeographyValue6": "CA",
                    "ns:BillFromGeographyValue7": "ALAMEDA",
                    "ns:BillFromGeographyValue8": "PLEASANTON",
                    "ns:BillFromGeographyValue9": "94588",
                    "ns:BillFromLocationId": "300000027712047",
                    "ns:BillFromPartyName": "",
                    "ns:BillFromPartyNumber": "",
                    "ns:BillThirdPtyAcctId": "300000003498140",
                    "ns:BillThirdPtyAcctSiteId": "300000038972668",
                    "ns:BillToGeographyType1": "ADDRESS1",
                    "ns:BillToGeographyType10": "PROVINCE",
                    "ns:BillToGeographyType2": "ADDRESS2",
                    "ns:BillToGeographyType3": "ADDRESS3",
                    "ns:BillToGeographyType4": "ADDRESS4",
                    "ns:BillToGeographyType5": "COUNTRY",
                    "ns:BillToGeographyType6": "STATE",
                    "ns:BillToGeographyType7": "COUNTY",
                    "ns:BillToGeographyType8": "CITY",
                    "ns:BillToGeographyType9": "POSTALCODE",
                    "ns:BillToGeographyValue1": "650 Liberty Ave",
                    "ns:BillToGeographyValue10": "",
                    "ns:BillToGeographyValue2": "",
                    "ns:BillToGeographyValue3": "",
                    "ns:BillToGeographyValue4": "",
                    "ns:BillToGeographyValue5": "US",
                    "ns:BillToGeographyValue6": "NJ",
                    "ns:BillToGeographyValue7": "",
                    "ns:BillToGeographyValue8": "Union",
                    "ns:BillToGeographyValue9": "07083",
                    "ns:BillToLocationId": "300000038972670",
                    "ns:BillToPartyName": "Central Computers",
                    "ns:BillToPartyNumber": "24005",
                    "ns:BillToSiteRegNumber": "",
                    "ns:CashDiscount": "0",
                    "ns:ConsignedFlag": "",
                    "ns:ConsignItmUponRecptFlag": "",
                    "ns:CountryOfOriginCode": "",
                    "ns:CreditAccountCcid": "",
                    "ns:CreditMemoReasonCode": "",
                    "ns:CtrlTotalLineTxAmt": "",
                    "ns:CustomerName": "Central Computers",
                    "ns:DebitAccountCcid": "",
                    "ns:DeliveryType": "",
                    "ns:DestinationTypeCode": "",
                    "ns:DropshipTypeId": "",
                    "ns:DropShipFlag": "",
                    "ns:ExemptionControlFlag": "S",
                    "ns:ExemptCertificateNumber": "",
                    "ns:ExemptReason": "",
                    "ns:ExemptReasonCode": "",
                    "ns:ExpenditureType": "",
                    "ns:FinalDischargeLocationId": "",
                    "ns:FinalTransactionNodeFlag": "",
                    "ns:FobPoint": "",
                    "ns:FosTransactionId": "",
                    "ns:InputTaxClassificationCode": "",
                    "ns:InsuranceCharge": "",
                    "ns:LinesDetFactorId": "15589183",
                    "ns:LineAmt": "100",
                    "ns:LineAmtIncludesTaxFlag": "S",
                    "ns:LineClass": "INVOICE",
                    "ns:LineGroupId": "",
                    "ns:LineGroupNumber": "",
                    "ns:LineIntendedUse": "",
                    "ns:LineLevelAction": "CREATE",
                    "ns:MatchType": "",
                    "ns:MemoLineName": "",
                    "ns:MerchantPartyCountry": "",
                    "ns:MerchantPartyDocumentNumber": "",
                    "ns:MerchantPartyId": "",
                    "ns:MerchantPartyName": "",
                    "ns:MerchantPartyReference": "",
                    "ns:MerchantPartyTaxpayerId": "",
                    "ns:MerchantPartyTaxRegNumber": "",
                    "ns:MinimumAccountableUnit": "",
                    "ns:OtherCharge": "",
                    "ns:OtherInclusiveTaxAmount": "",
                    "ns:OutputTaxClassificationCode": "",
                    "ns:OwnHqLocationId": "",
                    "ns:PackingCharge": "",
                    "ns:PayingLocationId": "",
                    "ns:PoaGeographyType1": "ADDRESS1",
                    "ns:PoaGeographyType10": "PROVINCE",
                    "ns:PoaGeographyType2": "ADDRESS2",
                    "ns:PoaGeographyType3": "ADDRESS3",
                    "ns:PoaGeographyType4": "ADDRESS4",
                    "ns:PoaGeographyType5": "COUNTRY",
                    "ns:PoaGeographyType6": "STATE",
                    "ns:PoaGeographyType7": "COUNTY",
                    "ns:PoaGeographyType8": "CITY",
                    "ns:PoaGeographyType9": "POSTALCODE",
                    "ns:PoaGeographyValue1": "5570 Baldwin Way",
                    "ns:PoaGeographyValue10": "",
                    "ns:PoaGeographyValue2": "",
                    "ns:PoaGeographyValue3": "",
                    "ns:PoaGeographyValue4": "",
                    "ns:PoaGeographyValue5": "US",
                    "ns:PoaGeographyValue6": "CA",
                    "ns:PoaGeographyValue7": "ALAMEDA",
                    "ns:PoaGeographyValue8": "PLEASANTON",
                    "ns:PoaGeographyValue9": "94588",
                    "ns:PoaLocationId": "300000027712047",
                    "ns:PoaPartyName": "",
                    "ns:PoaPartyNumber": "",
                    "ns:PocLocationId": "",
                    "ns:PodLocationId": "",
                    "ns:PoiLocationId": "",
                    "ns:PooGeographyType1": "ADDRESS1",
                    "ns:PooGeographyType10": "PROVINCE",
                    "ns:PooGeographyType2": "ADDRESS2",
                    "ns:PooGeographyType3": "ADDRESS3",
                    "ns:PooGeographyType4": "ADDRESS4",
                    "ns:PooGeographyType5": "COUNTRY",
                    "ns:PooGeographyType6": "STATE",
                    "ns:PooGeographyType7": "COUNTY",
                    "ns:PooGeographyType8": "CITY",
                    "ns:PooGeographyType9": "POSTALCODE",
                    "ns:PooGeographyValue1": "",
                    "ns:PooGeographyValue10": "",
                    "ns:PooGeographyValue2": "",
                    "ns:PooGeographyValue3": "",
                    "ns:PooGeographyValue4": "",
                    "ns:PooGeographyValue5": "",
                    "ns:PooGeographyValue6": "",
                    "ns:PooGeographyValue7": "",
                    "ns:PooGeographyValue8": "",
                    "ns:PooGeographyValue9": "",
                    "ns:PooLocationId": "",
                    "ns:PooPartyName": "",
                    "ns:PooPartyNumber": "",
                    "ns:Precision": "2",
                    "ns:ProductCategory": "",
                    "ns:ProductCode": "HPP4520",
                    "ns:ProductDescription": "HP Envy Printer 4520",
                    "ns:ProductFiscClassification": "COMPUTER|DESKTOP",
                    "ns:ProductId": "300000011351142",
                    "ns:ProductOrgId": "300000003699970",
                    "ns:ProductType": "GOODS",
                    "ns:ProrateAcrossAllLinesFlag": "",
                    "ns:ProvnlTaxDeterminationDate": "",
                    "ns:PseudoTrxLineFlag": "N",
                    "ns:PurchaseBasis": "",
                    "ns:PurchasingCategoryId": "",
                    "ns:QuoteFlag": "N",
                    "ns:ReceiptSourceCode": "",
                    "ns:RefDocApplicationId": "",
                    "ns:RefDocEntityCode": "",
                    "ns:RefDocEventClassCode": "",
                    "ns:RefDocLineId": "",
                    "ns:RefDocLineQuantity": "",
                    "ns:RefDocTrxId": "",
                    "ns:RefDocTrxLevelType": "",
                    "ns:RelatedDocApplicationId": "",
                    "ns:RelatedDocDate": "",
                    "ns:RelatedDocEntityCode": "",
                    "ns:RelatedDocEventClassCode": "",
                    "ns:RelatedDocNumber": "",
                    "ns:RelatedDocTrxId": "",
                    "ns:RequisitionType": "",
                    "ns:ShipmentType": "",
                    "ns:ShipFromGeographyType1": "ADDRESS1",
                    "ns:ShipFromGeographyType10": "PROVINCE",
                    "ns:ShipFromGeographyType2": "ADDRESS2",
                    "ns:ShipFromGeographyType3": "ADDRESS3",
                    "ns:ShipFromGeographyType4": "ADDRESS4",
                    "ns:ShipFromGeographyType5": "COUNTRY",
                    "ns:ShipFromGeographyType6": "STATE",
                    "ns:ShipFromGeographyType7": "COUNTY",
                    "ns:ShipFromGeographyType8": "CITY",
                    "ns:ShipFromGeographyType9": "POSTALCODE",
                    "ns:ShipFromGeographyValue1": "4308 Solar Way",
                    "ns:ShipFromGeographyValue10": "",
                    "ns:ShipFromGeographyValue2": "",
                    "ns:ShipFromGeographyValue3": "",
                    "ns:ShipFromGeographyValue4": "",
                    "ns:ShipFromGeographyValue5": "US",
                    "ns:ShipFromGeographyValue6": "CA",
                    "ns:ShipFromGeographyValue7": "Alameda",
                    "ns:ShipFromGeographyValue8": "Fremont",
                    "ns:ShipFromGeographyValue9": "94538",
                    "ns:ShipFromLocationId": "300000152308103",
                    "ns:ShipFromPartyName": "",
                    "ns:ShipFromPartyNumber": "",
                    "ns:ShipThirdPtyAcctId": "",
                    "ns:ShipThirdPtyAcctSiteId": "",
                    "ns:ShipToGeographyType1": "ADDRESS1",
                    "ns:ShipToGeographyType10": "PROVINCE",
                    "ns:ShipToGeographyType2": "ADDRESS2",
                    "ns:ShipToGeographyType3": "ADDRESS3",
                    "ns:ShipToGeographyType4": "ADDRESS4",
                    "ns:ShipToGeographyType5": "COUNTRY",
                    "ns:ShipToGeographyType6": "STATE",
                    "ns:ShipToGeographyType7": "COUNTY",
                    "ns:ShipToGeographyType8": "CITY",
                    "ns:ShipToGeographyType9": "POSTALCODE",
                    "ns:ShipToGeographyValue1": "1 Clay Street",
                    "ns:ShipToGeographyValue10": "",
                    "ns:ShipToGeographyValue2": "",
                    "ns:ShipToGeographyValue3": "",
                    "ns:ShipToGeographyValue4": "",
                    "ns:ShipToGeographyValue5": "US",
                    "ns:ShipToGeographyValue6": "California",
                    "ns:ShipToGeographyValue7": "Alameda",
                    "ns:ShipToGeographyValue8": "Fremont",
                    "ns:ShipToGeographyValue9": "94536",
                    "ns:ShipToLocationId": "300000003498143",
                    "ns:ShipToPartyName": "Central Computers",
                    "ns:ShipToPartyNumber": "24005",
                    "ns:ShipToSiteRegNumber": "",
                    "ns:SourceApplicationId": "",
                    "ns:SourceEntityCode": "",
                    "ns:SourceEventClassCode": "",
                    "ns:SourceLineId": "",
                    "ns:SourceTaxLineId": "",
                    "ns:SourceTrxId": "",
                    "ns:SourceTrxLevelType": "",
                    "ns:StartExpenseDate": "",
                    "ns:SupplierExchangeRate": "",
                    "ns:SupplierTaxInvoiceDate": "",
                    "ns:SupplierTaxInvoiceNumber": "",
                    "ns:TaxCalcModeFlag": "S",
                    "ns:TaxReportingFlag": "Y",
                    "ns:TitleTransferLocationId": "",
                    "ns:TradingDiscount": "",
                    "ns:TradingHqLocationId": "",
                    "ns:TransferCharge": "",
                    "ns:TransportationCharge": "",
                    "ns:TrxBusinessCategory": "SALES_TRANSACTION",
                    "ns:TrxCommunicatedDate": "",
                    "ns:TrxLineCurrencyCode": "USD",
                    "ns:TrxLineCurrencyConvDate": "",
                    "ns:TrxLineCurrencyConvRate": "",
                    "ns:TrxLineCurrencyConvType": "",
                    "ns:TrxLineDate": "",
                    "ns:TrxLineDescription": "HP Envy Printer 4520",
                    "ns:TrxLineGlDate": "20220923",
                    "ns:TrxLineMau": "",
                    "ns:TrxLineNumber": "1",
                    "ns:TrxLinePrecision": "2",
                    "ns:TrxLineQuantity": "1",
                    "ns:TrxLineType": "ITEM",
                    "ns:TrxReceiptDate": "",
                    "ns:TrxShippingDate": "20220923",
                    "ns:TrxSicCode": "",
                    "ns:TrxTypeDescription": "Invoice",
                    "ns:TrxWaybillNumber": "",
                    "ns:UnitPrice": "100",
                    "ns:UomCode": "zzy",
                    "ns:UserDefinedFiscClass": "",
                    "ns:VolumeDiscount": "",
                    "detailTaxLines": [],
                    "_addresses": {
                        "shipFrom": {
                            "line1": "4308 Solar Way",
                            "country": "US",
                            "region": "CA",
                            "county": "Alameda",
                            "city": "Fremont",
                            "postalCode": "94538"
                        },
                        "shipTo": {
                            "line1": "1 Clay Street",
                            "country": "US",
                            "region": "CA",
                            "county": "Alameda",
                            "city": "Fremont",
                            "postalCode": "94536"
                        },
                        "billFrom": {
                            "line1": "5570 Baldwin Way",
                            "country": "US",
                            "region": "CA",
                            "county": "ALAMEDA",
                            "city": "PLEASANTON",
                            "postalCode": "94588"
                        },
                        "billTo": {
                            "line1": "650 Liberty Ave",
                            "country": "US",
                            "region": "NJ",
                            "city": "Union",
                            "postalCode": "07083"
                        },
                        "pointOfOrderOrigin": null,
                        "pointOfOrderAcceptance": {
                            "line1": "5570 Baldwin Way",
                            "country": "US",
                            "region": "CA",
                            "county": "ALAMEDA",
                            "city": "PLEASANTON",
                            "postalCode": "94588"
                        },
                        "finalDischarge": null
                    }
                },
                {
                    "ns:ApplicationId": "222",
                    "ns:EntityCode": "TRANSACTIONS",
                    "ns:EventClassCode": "INVOICE",
                    "ns:TrxId": "952126",
                    "ns:TrxLineId": "8706666",
                    "ns:TrxLevelType": "LINE",
                    "ns:AccountCcid": "300000002075018",
                    "ns:AccountString": "SERPSOLS-00-410002-000-SERPSOLS-0-0-0-0-0",
                    "ns:AccrueOnReceiptFlag": "",
                    "ns:AdjustedDocApplicationId": "",
                    "ns:AdjustedDocDate": "",
                    "ns:AdjustedDocEntityCode": "",
                    "ns:AdjustedDocEventClassCode": "",
                    "ns:AdjustedDocLineId": "",
                    "ns:AdjustedDocNumber": "",
                    "ns:AdjustedDocTrxId": "",
                    "ns:AdjustedDocTrxLevelType": "",
                    "ns:ApplicationDocStatus": "",
                    "ns:AppliedFromApplicationId": "",
                    "ns:AppliedFromEntityCode": "",
                    "ns:AppliedFromEventClassCode": "",
                    "ns:AppliedFromLineId": "",
                    "ns:AppliedFromTrxId": "",
                    "ns:AppliedFromTrxLevelType": "",
                    "ns:AppliedFromTrxNumber": "",
                    "ns:AppliedToApplicationId": "401",
                    "ns:AppliedToEntityCode": "SHIPMENTS",
                    "ns:AppliedToEventClassCode": "SALES_ORDER_SHIPMENT",
                    "ns:AppliedToTrxId": "456015",
                    "ns:AppliedToTrxLevelType": "LINE",
                    "ns:AppliedToTrxLineId": "300000162530320",
                    "ns:AppliedToTrxNumber": "",
                    "ns:AssessableValue": "100",
                    "ns:AssetFlag": "",
                    "ns:BillFromGeographyType1": "ADDRESS1",
                    "ns:BillFromGeographyType10": "PROVINCE",
                    "ns:BillFromGeographyType2": "ADDRESS2",
                    "ns:BillFromGeographyType3": "ADDRESS3",
                    "ns:BillFromGeographyType4": "ADDRESS4",
                    "ns:BillFromGeographyType5": "COUNTRY",
                    "ns:BillFromGeographyType6": "STATE",
                    "ns:BillFromGeographyType7": "COUNTY",
                    "ns:BillFromGeographyType8": "CITY",
                    "ns:BillFromGeographyType9": "POSTALCODE",
                    "ns:BillFromGeographyValue1": "5570 Baldwin Way",
                    "ns:BillFromGeographyValue10": "",
                    "ns:BillFromGeographyValue2": "",
                    "ns:BillFromGeographyValue3": "",
                    "ns:BillFromGeographyValue4": "",
                    "ns:BillFromGeographyValue5": "US",
                    "ns:BillFromGeographyValue6": "CA",
                    "ns:BillFromGeographyValue7": "ALAMEDA",
                    "ns:BillFromGeographyValue8": "PLEASANTON",
                    "ns:BillFromGeographyValue9": "94588",
                    "ns:BillFromLocationId": "300000027712047",
                    "ns:BillFromPartyName": "",
                    "ns:BillFromPartyNumber": "",
                    "ns:BillThirdPtyAcctId": "300000003498140",
                    "ns:BillThirdPtyAcctSiteId": "300000038972668",
                    "ns:BillToGeographyType1": "ADDRESS1",
                    "ns:BillToGeographyType10": "PROVINCE",
                    "ns:BillToGeographyType2": "ADDRESS2",
                    "ns:BillToGeographyType3": "ADDRESS3",
                    "ns:BillToGeographyType4": "ADDRESS4",
                    "ns:BillToGeographyType5": "COUNTRY",
                    "ns:BillToGeographyType6": "STATE",
                    "ns:BillToGeographyType7": "COUNTY",
                    "ns:BillToGeographyType8": "CITY",
                    "ns:BillToGeographyType9": "POSTALCODE",
                    "ns:BillToGeographyValue1": "650 Liberty Ave",
                    "ns:BillToGeographyValue10": "",
                    "ns:BillToGeographyValue2": "",
                    "ns:BillToGeographyValue3": "",
                    "ns:BillToGeographyValue4": "",
                    "ns:BillToGeographyValue5": "US",
                    "ns:BillToGeographyValue6": "NJ",
                    "ns:BillToGeographyValue7": "",
                    "ns:BillToGeographyValue8": "Union",
                    "ns:BillToGeographyValue9": "07083",
                    "ns:BillToLocationId": "300000038972670",
                    "ns:BillToPartyName": "Central Computers",
                    "ns:BillToPartyNumber": "24005",
                    "ns:BillToSiteRegNumber": "",
                    "ns:CashDiscount": "0",
                    "ns:ConsignedFlag": "",
                    "ns:ConsignItmUponRecptFlag": "",
                    "ns:CountryOfOriginCode": "",
                    "ns:CreditAccountCcid": "",
                    "ns:CreditMemoReasonCode": "",
                    "ns:CtrlTotalLineTxAmt": "",
                    "ns:CustomerName": "Central Computers",
                    "ns:DebitAccountCcid": "",
                    "ns:DeliveryType": "",
                    "ns:DestinationTypeCode": "",
                    "ns:DropshipTypeId": "",
                    "ns:DropShipFlag": "",
                    "ns:ExemptionControlFlag": "S",
                    "ns:ExemptCertificateNumber": "",
                    "ns:ExemptReason": "",
                    "ns:ExemptReasonCode": "",
                    "ns:ExpenditureType": "",
                    "ns:FinalDischargeLocationId": "",
                    "ns:FinalTransactionNodeFlag": "",
                    "ns:FobPoint": "",
                    "ns:FosTransactionId": "",
                    "ns:InputTaxClassificationCode": "",
                    "ns:InsuranceCharge": "",
                    "ns:LinesDetFactorId": "15589182",
                    "ns:LineAmt": "100",
                    "ns:LineAmtIncludesTaxFlag": "S",
                    "ns:LineClass": "INVOICE",
                    "ns:LineGroupId": "",
                    "ns:LineGroupNumber": "",
                    "ns:LineIntendedUse": "",
                    "ns:LineLevelAction": "CREATE",
                    "ns:MatchType": "",
                    "ns:MemoLineName": "",
                    "ns:MerchantPartyCountry": "",
                    "ns:MerchantPartyDocumentNumber": "",
                    "ns:MerchantPartyId": "",
                    "ns:MerchantPartyName": "",
                    "ns:MerchantPartyReference": "",
                    "ns:MerchantPartyTaxpayerId": "",
                    "ns:MerchantPartyTaxRegNumber": "",
                    "ns:MinimumAccountableUnit": "",
                    "ns:OtherCharge": "",
                    "ns:OtherInclusiveTaxAmount": "",
                    "ns:OutputTaxClassificationCode": "",
                    "ns:OwnHqLocationId": "",
                    "ns:PackingCharge": "",
                    "ns:PayingLocationId": "",
                    "ns:PoaGeographyType1": "ADDRESS1",
                    "ns:PoaGeographyType10": "PROVINCE",
                    "ns:PoaGeographyType2": "ADDRESS2",
                    "ns:PoaGeographyType3": "ADDRESS3",
                    "ns:PoaGeographyType4": "ADDRESS4",
                    "ns:PoaGeographyType5": "COUNTRY",
                    "ns:PoaGeographyType6": "STATE",
                    "ns:PoaGeographyType7": "COUNTY",
                    "ns:PoaGeographyType8": "CITY",
                    "ns:PoaGeographyType9": "POSTALCODE",
                    "ns:PoaGeographyValue1": "5570 Baldwin Way",
                    "ns:PoaGeographyValue10": "",
                    "ns:PoaGeographyValue2": "",
                    "ns:PoaGeographyValue3": "",
                    "ns:PoaGeographyValue4": "",
                    "ns:PoaGeographyValue5": "US",
                    "ns:PoaGeographyValue6": "CA",
                    "ns:PoaGeographyValue7": "ALAMEDA",
                    "ns:PoaGeographyValue8": "PLEASANTON",
                    "ns:PoaGeographyValue9": "94588",
                    "ns:PoaLocationId": "300000027712047",
                    "ns:PoaPartyName": "",
                    "ns:PoaPartyNumber": "",
                    "ns:PocLocationId": "",
                    "ns:PodLocationId": "",
                    "ns:PoiLocationId": "",
                    "ns:PooGeographyType1": "ADDRESS1",
                    "ns:PooGeographyType10": "PROVINCE",
                    "ns:PooGeographyType2": "ADDRESS2",
                    "ns:PooGeographyType3": "ADDRESS3",
                    "ns:PooGeographyType4": "ADDRESS4",
                    "ns:PooGeographyType5": "COUNTRY",
                    "ns:PooGeographyType6": "STATE",
                    "ns:PooGeographyType7": "COUNTY",
                    "ns:PooGeographyType8": "CITY",
                    "ns:PooGeographyType9": "POSTALCODE",
                    "ns:PooGeographyValue1": "",
                    "ns:PooGeographyValue10": "",
                    "ns:PooGeographyValue2": "",
                    "ns:PooGeographyValue3": "",
                    "ns:PooGeographyValue4": "",
                    "ns:PooGeographyValue5": "",
                    "ns:PooGeographyValue6": "",
                    "ns:PooGeographyValue7": "",
                    "ns:PooGeographyValue8": "",
                    "ns:PooGeographyValue9": "",
                    "ns:PooLocationId": "",
                    "ns:PooPartyName": "",
                    "ns:PooPartyNumber": "",
                    "ns:Precision": "2",
                    "ns:ProductCategory": "",
                    "ns:ProductCode": "HPP4520",
                    "ns:ProductDescription": "HP Envy Printer 4520",
                    "ns:ProductFiscClassification": "COMPUTER|DESKTOP",
                    "ns:ProductId": "300000011351142",
                    "ns:ProductOrgId": "300000003699970",
                    "ns:ProductType": "GOODS",
                    "ns:ProrateAcrossAllLinesFlag": "",
                    "ns:ProvnlTaxDeterminationDate": "",
                    "ns:PseudoTrxLineFlag": "N",
                    "ns:PurchaseBasis": "",
                    "ns:PurchasingCategoryId": "",
                    "ns:QuoteFlag": "N",
                    "ns:ReceiptSourceCode": "",
                    "ns:RefDocApplicationId": "",
                    "ns:RefDocEntityCode": "",
                    "ns:RefDocEventClassCode": "",
                    "ns:RefDocLineId": "",
                    "ns:RefDocLineQuantity": "",
                    "ns:RefDocTrxId": "",
                    "ns:RefDocTrxLevelType": "",
                    "ns:RelatedDocApplicationId": "",
                    "ns:RelatedDocDate": "",
                    "ns:RelatedDocEntityCode": "",
                    "ns:RelatedDocEventClassCode": "",
                    "ns:RelatedDocNumber": "",
                    "ns:RelatedDocTrxId": "",
                    "ns:RequisitionType": "",
                    "ns:ShipmentType": "",
                    "ns:ShipFromGeographyType1": "ADDRESS1",
                    "ns:ShipFromGeographyType10": "PROVINCE",
                    "ns:ShipFromGeographyType2": "ADDRESS2",
                    "ns:ShipFromGeographyType3": "ADDRESS3",
                    "ns:ShipFromGeographyType4": "ADDRESS4",
                    "ns:ShipFromGeographyType5": "COUNTRY",
                    "ns:ShipFromGeographyType6": "STATE",
                    "ns:ShipFromGeographyType7": "COUNTY",
                    "ns:ShipFromGeographyType8": "CITY",
                    "ns:ShipFromGeographyType9": "POSTALCODE",
                    "ns:ShipFromGeographyValue1": "4308 Solar Way",
                    "ns:ShipFromGeographyValue10": "",
                    "ns:ShipFromGeographyValue2": "",
                    "ns:ShipFromGeographyValue3": "",
                    "ns:ShipFromGeographyValue4": "",
                    "ns:ShipFromGeographyValue5": "US",
                    "ns:ShipFromGeographyValue6": "CA",
                    "ns:ShipFromGeographyValue7": "Alameda",
                    "ns:ShipFromGeographyValue8": "Fremont",
                    "ns:ShipFromGeographyValue9": "94538",
                    "ns:ShipFromLocationId": "300000152308103",
                    "ns:ShipFromPartyName": "",
                    "ns:ShipFromPartyNumber": "",
                    "ns:ShipThirdPtyAcctId": "",
                    "ns:ShipThirdPtyAcctSiteId": "",
                    "ns:ShipToGeographyType1": "ADDRESS1",
                    "ns:ShipToGeographyType10": "PROVINCE",
                    "ns:ShipToGeographyType2": "ADDRESS2",
                    "ns:ShipToGeographyType3": "ADDRESS3",
                    "ns:ShipToGeographyType4": "ADDRESS4",
                    "ns:ShipToGeographyType5": "COUNTRY",
                    "ns:ShipToGeographyType6": "STATE",
                    "ns:ShipToGeographyType7": "COUNTY",
                    "ns:ShipToGeographyType8": "CITY",
                    "ns:ShipToGeographyType9": "POSTALCODE",
                    "ns:ShipToGeographyValue1": "1 Clay Street",
                    "ns:ShipToGeographyValue10": "",
                    "ns:ShipToGeographyValue2": "",
                    "ns:ShipToGeographyValue3": "",
                    "ns:ShipToGeographyValue4": "",
                    "ns:ShipToGeographyValue5": "US",
                    "ns:ShipToGeographyValue6": "California",
                    "ns:ShipToGeographyValue7": "Alameda",
                    "ns:ShipToGeographyValue8": "Fremont",
                    "ns:ShipToGeographyValue9": "94536",
                    "ns:ShipToLocationId": "300000003498143",
                    "ns:ShipToPartyName": "Central Computers",
                    "ns:ShipToPartyNumber": "24005",
                    "ns:ShipToSiteRegNumber": "",
                    "ns:SourceApplicationId": "",
                    "ns:SourceEntityCode": "",
                    "ns:SourceEventClassCode": "",
                    "ns:SourceLineId": "",
                    "ns:SourceTaxLineId": "",
                    "ns:SourceTrxId": "",
                    "ns:SourceTrxLevelType": "",
                    "ns:StartExpenseDate": "",
                    "ns:SupplierExchangeRate": "",
                    "ns:SupplierTaxInvoiceDate": "",
                    "ns:SupplierTaxInvoiceNumber": "",
                    "ns:TaxCalcModeFlag": "S",
                    "ns:TaxReportingFlag": "Y",
                    "ns:TitleTransferLocationId": "",
                    "ns:TradingDiscount": "",
                    "ns:TradingHqLocationId": "",
                    "ns:TransferCharge": "",
                    "ns:TransportationCharge": "",
                    "ns:TrxBusinessCategory": "SALES_TRANSACTION",
                    "ns:TrxCommunicatedDate": "",
                    "ns:TrxLineCurrencyCode": "USD",
                    "ns:TrxLineCurrencyConvDate": "",
                    "ns:TrxLineCurrencyConvRate": "",
                    "ns:TrxLineCurrencyConvType": "",
                    "ns:TrxLineDate": "",
                    "ns:TrxLineDescription": "HP Envy Printer 4520",
                    "ns:TrxLineGlDate": "20220923",
                    "ns:TrxLineMau": "",
                    "ns:TrxLineNumber": "2",
                    "ns:TrxLinePrecision": "2",
                    "ns:TrxLineQuantity": "1",
                    "ns:TrxLineType": "ITEM",
                    "ns:TrxReceiptDate": "",
                    "ns:TrxShippingDate": "20220923",
                    "ns:TrxSicCode": "",
                    "ns:TrxTypeDescription": "Invoice",
                    "ns:TrxWaybillNumber": "",
                    "ns:UnitPrice": "100",
                    "ns:UomCode": "zzy",
                    "ns:UserDefinedFiscClass": "",
                    "ns:VolumeDiscount": "",
                    "detailTaxLines": [],
                    "_addresses": {
                        "shipFrom": {
                            "line1": "4308 Solar Way",
                            "country": "US",
                            "region": "CA",
                            "county": "Alameda",
                            "city": "Fremont",
                            "postalCode": "94538"
                        },
                        "shipTo": {
                            "line1": "1 Clay Street",
                            "country": "US",
                            "region": "CA",
                            "county": "Alameda",
                            "city": "Fremont",
                            "postalCode": "94536"
                        },
                        "billFrom": {
                            "line1": "5570 Baldwin Way",
                            "country": "US",
                            "region": "CA",
                            "county": "ALAMEDA",
                            "city": "PLEASANTON",
                            "postalCode": "94588"
                        },
                        "billTo": {
                            "line1": "650 Liberty Ave",
                            "country": "US",
                            "region": "NJ",
                            "city": "Union",
                            "postalCode": "07083"
                        },
                        "pointOfOrderOrigin": null,
                        "pointOfOrderAcceptance": {
                            "line1": "5570 Baldwin Way",
                            "country": "US",
                            "region": "CA",
                            "county": "ALAMEDA",
                            "city": "PLEASANTON",
                            "postalCode": "94588"
                        },
                        "finalDischarge": null
                    }
                }
            ],
            "UCM_DocumentName": "AVALARA_TransactionExtract_222_20220923185321.zip",
            "UCM_DocumentId": 1755368,
            "UCM_fileName": "AVALARA_TransactionExtract_222_20220923185115.csv"
        },
        "wsAction": "Calculation"
    }
}
let queryCounter = 1
const sdk = new AppknitSDK(null, null, {
    // @ts-ignore
    adhocDataProvider: {
        queryDataRecords: async (query)=>{
            console.log(JSON.stringify(query, null, 2))
            if (queryCounter === 1) {
                queryCounter = queryCounter + 1
                return [
                    {
                        ATX_TAX_CODE: 'STATE',
                        ATX_RATE_CODE: 'STANDARD',
                        ATX_TAX_STATUS_CODE: 'STANDARD',
                        ATX_JURISDICTION_CODE: '-ST-050000000',
                    }
                ]  
            }
            if (queryCounter === 2) {
                queryCounter = queryCounter + 1
                return [
                    {
                        ATX_TAX_CODE: 'COUNTY',
                        ATX_RATE_CODE: 'STANDARD',
                        ATX_TAX_STATUS_CODE: 'STANDARD',
                        ATX_JURISDICTION_CODE: '-CO-050010000',
                    }
                ]  
            }
            return [
                {
                    ATX_TAX_CODE: 'SPECIAL',
                    ATX_RATE_CODE: '_SPECIAL_RATE',
                    ATX_TAX_STATUS_CODE: 'STANDARD',
                    ATX_JURISDICTION_CODE: '-SPECIAL',
                }
            ]
        },
    }
})
extension.flowFunctions.prepareBatchRequest.js(sdk, input).then(result=>console.log(JSON.stringify(result,null,2)))

// extension.flowFunctions.mapFusionSoapRequestV2.js(sdk, {body: triggerBody}).then(result=>console.log(result))